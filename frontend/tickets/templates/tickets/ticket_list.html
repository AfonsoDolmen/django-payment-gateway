{% extends 'base.html' %}

{% block content %}
<section class="w-100 px-3 py-2 ticket-section">
    <div class="list-container">
        <div class="d-flex justify-content-center input-container">
            <form class="w-50 my-3 d-flex gap-3" method="get">
                <input class="form-control" type="text" placeholder="Pesquise por nome ou descrição" name="search">
                <button class="btn btn-success" type="submit">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
                        <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"/>
                    </svg>
                </button>
            </form>
        </div>
        {% if tickets %}
            <table class="table table-striped table-bordered">
                <thead class="table-dark">
                    <tr>
                        <th>ID</th>
                        <th>Título</th>
                        <th>Status</th>
                        <th>Preço</th>
                        <th>Ações</th>
                    </tr>
                </thead>
                <tbody>
                    {% for ticket in tickets %}
                    <tr>
                        <td>{{ ticket.id }}</td>
                        <td>{{ ticket.name }}</td>
                        <td>{{ ticket.description }}</td>
                        <td>R$ {{ ticket.price }}</td>
                        <td>
                            <a href="{% url 'ticket-detail' ticket.id %}" class="btn btn-sm btn-primary">Ver</a>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        {% else %}
            <h4 class="my-3 text-center">Nenhum ingresso encontrado.</h4>
        {% endif %}
    </div>
</section>
{% endblock %}
